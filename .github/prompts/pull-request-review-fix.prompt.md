---
mode: 'agent'
description: 'pull_requestのレビューコメントを確認し、必要な修正を行うプロンプトです'
---
## Steps
以下の手順に従って、pull_requestのレビューコメントを確認し、必要な修正やコメント返信を行ってください。

1. 与えられたpull_requestのレビューコメントの取得と分類
  - レビューコメントと通常のコメントを `github` を使用して確認する。 `github` が利用できない場合は `gh` コマンドを代わりに使用する
  - resolved済みのレビューコメントは無視
  - 同じ行に対して複数のレビューコメントがある場合は、RyomaYからのコメントを優先
  - 必須修正（セキュリティ、バグ、機能要件）
  - 推奨修正（パフォーマンス、可読性、保守性）
2. レビューコメントの分析と修正計画の作成
  - 各レビューコメントに対して、修正が必要かどうかを判断する
    - 破壊的変更の可能性を評価
    - 修正が不要な場合は、その理由を簡潔に説明する
    - 修正が必要な場合は、具体的な修正内容を明確にする
  - 修正の順序と依存関係の整理
    - 修正が他の部分に与える影響を分析
    - 関連するファイルやモジュールの特定
    - テストが必要な修正の特定
  - すべてのレビューコメントに対して、修正計画をまとめる
3. 修正計画のTODOリストを作成する
  - TODOの最後には必ず check all を行うこと
4. TODOリストの全ての項目を完了したら、変更をステージングする
  - なるべく `git add -u` を使用して変更されたファイルのみステージングする
  - 新規ファイルがある場合は `git add <file>` を使用する
5. コミットを行う
  - コミットメッセージは実装内容を簡潔にまとめる
6. 現在のブランチをpushしてpull-requestを更新する
